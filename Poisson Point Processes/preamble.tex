% Fonts 
%\usepackage[T1]{fontenc}
%\usepackage[utf8]{inputenc}
% \usepackage{tgtermes}

% NOTE: MUST INSTALL SEPARATELY
% \usepackage[subscriptcorrection,
%            amssymbols,
%            mtpbb,
%            mtpcal,
%            nofontinfo  % suppresses all warnings
%           ]{mtpro2}
% NOTE: MUST UNCOMMENT IF NOT USING MTPRO2
\usepackage{amssymb}
\newcommand{\mathbold}[1]{\ensuremath{\boldsymbol{\mathbf{#1}}}}

\usepackage{scalefnt,letltxmacro}
\LetLtxMacro{\oldtextsc}{\textsc}
\renewcommand{\textsc}[1]{\oldtextsc{\scalefont{1.10}#1}}
% \renewcommand*\ttdefault{lmvtt}
% \usepackage[ttdefault=true]{AnonymousPro}

% Mathematics

\usepackage{mathtools}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amsthm}

\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}[theorem]

\newtheorem{proposition}{Proposition}
\newtheorem{lemma}{Lemma}

\theoremstyle{definition}
\newtheorem{definition}{Definition}

\newtheorem{identity}{Identity}

\usepackage{empheq}

% Spacing and Text

\usepackage[
  paper  = letterpaper,
  left   = 1.5in,
  right  = 1.5in,
  top    = 1.0in,
  bottom = 1.0in,
]{geometry}
\usepackage[final,expansion=alltext]{microtype}

\usepackage[english]{babel}
\usepackage[parfill]{parskip}
\usepackage{afterpage}
\usepackage{enumitem}
\usepackage{framed}
\usepackage{setspace}

% Editing

%\usepackage{lineno}
%\renewcommand\linenumberfont{\normalfont
%                             \footnotesize
%                             \sffamily
%                             \color{SkyBlue}}

\usepackage{ragged2e}
\DeclareRobustCommand{\sidenote}[1]{\marginpar{
                                    \RaggedRight
                                    \textcolor{Plum}{\textsf{#1}}}}

\newcommand{\parnum}{\bfseries\P\arabic{parcount}}
\newcounter{parcount}
\newcommand\p{%
    \stepcounter{parcount}%
    \leavevmode\marginpar[\hfill\parnum]{\parnum}%
}
\DeclareRobustCommand{\parhead}[1]{\textbf{#1}~}

\usepackage{rotating}

% Colour

\usepackage[usenames,dvipsnames]{xcolor}
\definecolor{shadecolor}{gray}{0.9}

\newcommand{\red}[1]{\textcolor{BrickRed}{#1}}
\newcommand{\orange}[1]{\textcolor{BurntOrange}{#1}}
\newcommand{\green}[1]{\textcolor{OliveGreen}{#1}}
\newcommand{\blue}[1]{\textcolor{MidnightBlue}{#1}}
\newcommand{\sky}[1]{\textcolor{SkyBlue}{#1}}
\newcommand{\gray}[1]{\textcolor{black!60}{#1}}

% Counters

\renewcommand{\labelenumi}{\color{black!67}{\arabic{enumi}.}}
\renewcommand{\labelenumii}{{\color{black!67}(\alph{enumii})}}
\renewcommand{\labelitemi}{{\color{black!67}\textbullet}}

% Figures

\usepackage{graphicx}
\usepackage[labelfont=bf]{caption}
\usepackage[format=hang]{subcaption}
\usepackage{wrapfig}

% Tables

\usepackage{booktabs}
\usepackage{array}
\usepackage{multirow}

% % Algorithms

% % \usepackage[algoruled]{algorithm2e}
% % \setlength{\interspacetitleruled}{8pt}
% % \usepackage{listings}
% % \usepackage{fancyvrb}
% % \fvset{fontsize=\small}

% Bibliography
%\usepackage[sort&compress]{natbib}
%\usepackage{bibentry}
%\nobibliography*

% Links

\usepackage[colorlinks,linktoc=all]{hyperref}
\usepackage[all]{hypcap}
\hypersetup{citecolor=MidnightBlue}
\hypersetup{linkcolor=MidnightBlue}
\hypersetup{urlcolor=MidnightBlue}

% Acronyms

\usepackage[acronym,smallcaps,nowarn]{glossaries}
\glsdisablehyper
\makeglossaries

% Code Snippets

\usepackage{listings}

\definecolor{strings}{rgb}{.624,.251,.259}
\definecolor{keywords}{rgb}{.224,.451,.686}
\definecolor{comment}{rgb}{.322,.451,.322}

\lstdefinelanguage{python}{
  morekeywords={from, import, as, for, in, while, def, return, =, +,
  -, /, *, lambda},
  keywords=[2]{build_toy_dataset, neural_network, __init__},
  keywords=[3]{Normal, Bernoulli, Beta, Categorical, Dirichlet,
  Exponential, MultivariateNormalFull, RandomVariable, Distribution,
  DirichletProcess, Empirical, PointMass, Gamma,
  MAP, Inference, KLqp, HMC, SGLD, KLpq,
  VariationalInference, MonteCarlo, ConjugateInference, GANInference,
  rnn_cell, dirichlet_process, cond, body,
  evaluate, ppc, copy, dot, get_session},
  morecomment=[l]{\#},
  morecomment=[s]{"""}{"""},
  morestring=[b]',
  morestring=[b]",
  alsoletter={<>=-+/*},
  sensitive=true
}

\lstset{
  language=python,
  keywordstyle=\color{BrickRed}\bfseries\ttfamily,
  keywordstyle=[2]\color{Violet}\ttfamily,
  keywordstyle=[3]\color{keywords}\ttfamily,
  commentstyle=\color{comment}\ttfamily,
  stringstyle=\color{strings}\ttfamily,
  basicstyle=\fontsize{8pt}{8.25pt}\selectfont\ttfamily,
  basewidth=0.5em,
  numbers=left,
  numberstyle=\tiny,
  stepnumber=1,
  columns=fixed,
  xleftmargin=2ex,%0.25in,
  firstnumber=1,
  showstringspaces=false,
  mathescape=true,
  keepspaces=True,
  tabsize=2
}
\renewcommand{\texttt}[1]{\lstinline[basicstyle=\fontsize{8pt}{8.25pt}\selectfont\ttfamily]{#1}}

\usepackage[nameinlink]{cleveref}
\crefname{section}{\S}{\S\S}
\Crefname{section}{\S}{\S\S}
\creflabelformat{equation}{#2\textup{#1}#3}

% Todo List
\usepackage[colorinlistoftodos,
            %disable,
            textsize=tiny,
            linecolor=red!30,
            bordercolor=red!30,
            backgroundcolor=red!10]{todonotes}

\newcommand{\rdots}{\red{\textbf{\dots}}}

% Miscellaneous

\usepackage[most]{tcolorbox}

\newtcolorbox{incomplete}{skin=enhancedmiddle jigsaw,breakable,
  parbox=false,boxrule=0mm,leftrule=2mm,boxsep=0mm,
  arc=0mm,outer arc=0mm,left=3mm,right=3mm,top=1mm,bottom=1mm,
  toptitle=1mm,bottomtitle=1mm,oversize,colback=yellow!5!white,
  colframe=yellow}

\newcommand{\pp}{\textcolor{Plum}{\P\,}}
\newcommand{\q}[1]{\red{{\sf Q | #1}}}
\newcommand{\draftdisclaimer}{\begin{center}\begin{framed} DRAFT: DO
NOT CITE OR DISTRIBUTE \end{framed}\end{center}}
